# ============ ENHANCED MEV BOT CONFIGURATION - MORE ARBITRUM DEXS ============

# ---------------- RPCs ----------------
# Keep Alchemy HTTP here for other scripts if needed; mempool-shadow filters it out by default (ALCHEMY_HTTP_ALLOWED=0)
ARB_RPC_URL=https://arb-mainnet.g.alchemy.com/v2/lQaQhPR_xB9r3N6LKjwl4
ARB_WS_URL_PRIMARY=wss://arb-mainnet.g.alchemy.com/v2/lQaQhPR_xB9r3N6LKjwl4
ALCHEMY_URL=https://arb-mainnet.g.alchemy.com/v2/lQaQhPR_xB9r3N6LKjwl4

# HTTP backups (non-Alchemy preferred for CU)
ARB_RPC_URL_BACKUP_1=https://arbitrum-mainnet.infura.io/v3/f46d32575814418ebf30a61f1267655b
ARB_RPC_URL_BACKUP_2=https://cosmological-prettiest-shape.arbitrum-mainnet.quiknode.pro/ab58498309b99632ae5f1fda75b95764b49a7036/

# WS backups
ARB_WS_URL_BACKUP_1=wss://cosmological-prettiest-shape.arbitrum-mainnet.quiknode.pro/ab58498309b99632ae5f1fda75b95764b49a7036/
ARB_WS_URL_BACKUP_2=wss://arbitrum-one.blastapi.io/012f5673-2e94-465e-a409-d19092b959d4
ARB_WS_URL_BACKUP_3=wss://arbitrum-mainnet.infura.io/ws/v3/f46d32575814418ebf30a61f1267655b

# Blast API
BWARE_ARB_HTTP=https://arbitrum-one.blastapi.io/012f5673-2e94-465e-a409-d19092b959d4
BWARE_ARB_WSS=wss://arbitrum-one.blastapi.io/012f5673-2e94-465e-a409-d19092b959d4

# ---- Consolidated lists for fetchers & shadow mempool ----
# WSS: Alchemy + QuickNode primaries, Blast + Infura backups (no spaces after commas)
WSS_URLS=wss://arb-mainnet.g.alchemy.com/v2/lQaQhPR_xB9r3N6LKjwl4,wss://cosmological-prettiest-shape.arbitrum-mainnet.quiknode.pro/ab58498309b99632ae5f1fda75b95764b49a7036/,wss://arbitrum-one.blastapi.io/012f5673-2e94-465e-a409-d19092b959d4,wss://arbitrum-mainnet.infura.io/ws/v3/f46d32575814418ebf30a61f1267655b

# HTTP: non-Alchemy only (Alchemy HTTP filtered by default below)
FETCH_HTTP_URLS=https://cosmological-prettiest-shape.arbitrum-mainnet.quiknode.pro/ab58498309b99632ae5f1fda75b95764b49a7036/,https://arbitrum-one.blastapi.io/012f5673-2e94-465e-a409-d19092b959d4,https://arbitrum-mainnet.infura.io/v3/f46d32575814418ebf30a61f1267655b
ARB_RPC_URLS=https://cosmological-prettiest-shape.arbitrum-mainnet.quiknode.pro/ab58498309b99632ae5f1fda75b95764b49a7036/,https://arbitrum-one.blastapi.io/012f5673-2e94-465e-a409-d19092b959d4,https://arbitrum-mainnet.infura.io/v3/f46d32575814418ebf30a61f1267655b

# ---------------- Wallet ----------------
PRIVATE_KEY=0x16798a939ec579aba52a410666b4a31d11d416a5c571881702c66076af65585e

# ---------------- Enhanced Core Strategy ----------------
PROBE_NOTIONAL_A=0.1
MIN_PROFIT_ARB=0.00001
MAX_GAS_COST_ARB=0.0005
WETH_BASE_AMOUNT=0.002
USDC_BASE_AMOUNT=2.0
USDT_BASE_AMOUNT=2.0

# --- CU control (safe defaults) ---
FETCH_RPS=2
FETCH_BURST=4
ALCHEMY_RPS=1
ALCHEMY_BURST=2
HASH_FETCH_RPS=1
HASH_FETCH_BURST=2

# Prefer non-Alchemy for HTTP; keep Alchemy for WSS only
# If you must allow Alchemy HTTP in mempool-shadow, set ALCHEMY_HTTP_ALLOWED=1
ALCHEMY_HTTP_ALLOWED=1

# Pending fallback (no duplicates)
QUIET_FAILOVER_SEC=300
PENDING_POLL_MS=10000
BLOCK_POLL_FALLBACK_SEC=15

# Probing
PROBE_CONCURRENCY=2
PROBE_CACHE_TTL_MS=600000

# Longer hash dedupe (less re-fetching)
EARLY_TTL_MS=300000

# Backfill (off by default)
BACKFILL_BLOCKS=3

# ---------------- Enhanced Strategy Toggles ----------------
ENABLE_CROSS_DEX=true
ENABLE_TRIANGULAR=true
ENABLE_MULTI_PAIR=true
ENABLE_CURVE=true
ENABLE_BALANCER=false
ENABLE_GMX=false
ENABLE_FLASH_LOANS=false

# === Local Anvil (preferred for sim) ===
ANVIL_HOST=127.0.0.1
ANVIL_PORT=8545
ANVIL_URL=http://127.0.0.1:8545
ANVIL_CHAIN_ID=42161
ANVIL_FORK_URL=https://arb-mainnet.g.alchemy.com/v2/lQaQhPR_xB9r3N6LKjwl4

# --- Shadow mempool ---
# Single-endpoint compatibility; multi-endpoint is in WSS_URLS above
WSS_URL=wss://arb-mainnet.g.alchemy.com/v2/lQaQhPR_xB9r3N6LKjwl4
BACKRUN_ETH_IN=1
SLIPPAGE_BPS=30
DEBUG_MEMPOOL=1

# ---------------- Token Addresses (Arbitrum One) ----------------
TOKEN_ARB=0x912CE59144191C1204E64559FE8253a0e49E6548
TOKEN_WETH=0x82aF49447D8a07e3bd95BD0d56f35241523fBab1
TOKEN_USDC=0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8
TOKEN_USDT=0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9
TOKEN_WBTC=0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f
TOKEN_LINK=0xf97f4df75117a78c1A5a0DBb814Af92458539FB4
TOKEN_UNI=0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0
TOKEN_DAI=0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1
TOKEN_FRAX=0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F

# ---------------- Uniswap V3 Infrastructure ----------------
UNI_QUOTER=0x61fFE014bA17989E743c5F6cB21bF9697530B21e
UNI_FACTORY=0x1F98431c8aD98523631AE4a59f267346ea31F984

# === Uniswap v3 ===
UNISWAP_V3_QUOTER_V2=0x61fFE014bA17989E743c5F6cB21bF9697530B21e
UNISWAP_V3_ROUTER=0xE592427A0AEce92De3Edee1F18E0157C05861564

# Key Uniswap V3 Pools
UNIV3_ARB_WETH_005=0xC6F780497A95e246EB9449f5e4770916DCd6396A
UNIV3_ARB_WETH_03=0x92c63d0e701CAAe670C9415d91C474F686298f00
UNIV3_WETH_USDC_005=0xC31E54c7a869B9FcBEcc14363CF510d1c41fa443
UNIV3_ARB_USDC_005=0xac70bD92F89e6739B3a08Db9B6081a923912f73D
UNIV3_WETH_USDT_005=0x641C00A822e8b671738d32a431a4Fb6074E5c79d

# ---------------- DEX Routers (Arbitrum Specific) ----------------
SUSHI_ROUTER=0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506
SUSHI_FACTORY=0xc35DADB65012eC5796536bD9864eD8773aBc74C4
CAMELOT_ROUTER=0xc873fEcbd354f5A56E00E710B90EF4201db2448d
CAMELOT_FACTORY=0x6EcCab422D763aC031210895C81787E87B91678B
ARBIDEX_ROUTER=0x7238FB35cf07aBBe5e2F0883E7e2bf4aC5Ca4B7F
ZYBERSWAP_ROUTER=0x16e71B13fE6079B4312063F7E81F76d165Ad32Ad
RAMSES_ROUTER=0xAAA87963EFeB6f7E0a2711F397663105Acb1805e
RADIANT_ROUTER=0x2f9EC37d6CcFFf1caB21733BdaDEdE11c823cCB0
VELA_ROUTER=0x3B3E4b4741e91aF52d0e9ad8660573E951c88524
MYCELIUM_ROUTER=0x8cFe327CEc66d1C090Dd72bd0FF11d690C33a2Eb
SUSHIXSWAP_ROUTER=0x53b08DbD70327b7Ba3B7886Fc9987BC985d27262

# ---------------- Curve Finance (Stablecoin Focus) ----------------
CURVE_ROUTER=0x7544Fe3d184b6B55D6B36c3FCA1157eE0Ba30287
CURVE_ADDRESS_PROVIDER=0x0000000022D53366457F9d5E68Ec105046FC4383
CURVE_2POOL=0x7f90122BF0700F9E7e1F688fe926940E8839F353
CURVE_FRAX_USDC=0xC9B8a3FDECB9D5b218d02555a8Baf332E5B740d5

# ---------------- Balancer V2 ----------------
BALANCER_VAULT=0xBA12222222228d8Ba445958a75a0704d566BF2C8
BALANCER_QUERIES=0xE39B5e3B6D74016b2F6A9673D7d7493B6DF549d5

# ---------------- GMX (Arbitrum Native DeFi) ----------------
GMX_ROUTER=0xaBBc5F99639c9B6bCb58544ddf04EFA6802F4064
GMX_VAULT=0x489ee077994B6658eAfA855C308275EAd8097C4A
GMX_READER=0x22199a49A999c351eF7927602CFB187ec3cae489

# ---------------- 1inch Aggregator ----------------
ONEINCH_ROUTER=0x1111111254EEB25477B68fb85Ed929f73A960582

# ---------------- Paraswap Aggregator ----------------
PARASWAP_ROUTER=0xDEF171Fe48CF0115B1d80b88dc8eAB59176FEe57

# ---------------- Trading Pair Configuration ----------------
PRIMARY_PAIRS=ARB-WETH,WETH-USDC,ARB-USDC,WETH-USDT
SECONDARY_PAIRS=ARB-USDT,WBTC-WETH,LINK-WETH,USDC-USDT,DAI-USDC
STABLECOIN_PAIRS=USDC-USDT,DAI-USDC,FRAX-USDC,USDC-DAI

# ---------------- Enhanced Monitoring & Scanning ----------------
SCAN_INTERVAL_MS=1500
SCAN_ALL_DEXS=true
MAX_CONCURRENT_SCANS=5
ENABLE_DEEP_SCANNING=true

# ---------------- Execution Parameters ----------------
MAX_SLIPPAGE_BPS=30
TARGET_GAS_PRICE_GWEI=0.05
MAX_GAS_PRICE_GWEI=0.2
GAS_MULTIPLIER=1.05

# ---------------- Safety Limits ----------------
MAX_TRADE_SIZE_ARB=2.0
DAILY_PROFIT_TARGET_ARB=0.5
DAILY_LOSS_LIMIT_ARB=0.1

# ---------------- Enhanced Logging & Debug ----------------
LOG_LEVEL=info
LOG_ALL_QUOTES=false
LOG_PROFITABLE_ONLY=true
LOG_DEX_PERFORMANCE=true
SAVE_TRADE_HISTORY=true

# ---------------- Multi-DEX Strategy Settings ----------------
ENABLE_DEX_RANKING=true
MIN_DEX_LIQUIDITY=1000
PREFERRED_DEXS=UniV3,Camelot,Sushi
BACKUP_DEXS=Arbidex,Zyberswap,Ramses

# ---------------- Flash Loan Providers ----------------
AAVE_POOL=0x794a61358D6845594F94dc1DB02A252b5b4814aD
BALANCER_FLASHLOAN=0xBA12222222228d8Ba445958a75a0704d566BF2C8

# ---------------- Price Oracle Integration ----------------
CHAINLINK_ETH_USD=0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612
CHAINLINK_ARB_USD=0xb2A824043730FE05F3DA2efaFa1CBbe83fa548D6
CHAINLINK_BTC_USD=0x6ce185860a4963106506C203335A2910413708e9

# ---------------- Original Bot Settings (Preserved) ----------------
HOT_TX_MAX=1
HOT_TX_PERSIST=true
HOT_TX_STATE_PATH=.state/hot_tx_counter.json
ON_TX_LIMIT=exit
DRY_RUN=false
ROUTER_ADDRESS=0xc8089738a3F2957Cf764a04CED711E83579D8971
WORKING_MODE=true
PRIMARY_POOL_FEE=3000
ARB_WETH_POOL_03=0x92c63d0e701CAAe670C9415d91C474F686298f00
WORKING_POOL_POLL_MS=1500
WORKING_POOL_FROMBLOCK_LAG=1
WORKING_POOL_CONFIRMATIONS=0
WORKING_POOL_MAX_SPAN=200
DASHBOARD_PORT=8787

# ============ ENHANCED USAGE INSTRUCTIONS ============
# RECOMMENDED TEST:
# npx ts-node scripts/test-profitable.ts test
# CONTINUOUS MONITORING:
# npx ts-node scripts/test-profitable.ts monitor
# HIGH-OPPORTUNITY SETTINGS:
# export PROBE_NOTIONAL_A=0.1
# export MIN_PROFIT_ARB=0.0005
# export ENABLE_DEEP_SCANNING=true
